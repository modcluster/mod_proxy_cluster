LoadModule proxy_module modules/mod_proxy.so
LoadModule proxy_ajp_module modules/mod_proxy_ajp.so
LoadModule manager_module modules/mod_manager.so
LoadModule proxy_cluster_module modules/mod_proxy_cluster.so
LoadModule proxy_hcheck_module modules/mod_proxy_hcheck.so
LoadModule watchdog_module modules/mod_watchdog.so
LoadModule slotmem_shm_module modules/mod_slotmem_shm.so

ProxyHCExpr in_maint {hc('body') !~ /Under maintenance/}
ModProxyClusterHCTemplate hcmethod=GET hcexpr=in_maint hcuri=/status.jsp
#ModProxyClusterHCTemplate hcmethod=CPING hcinterval=5 hcpasses=2 hcfails=3

Maxnode 505
Maxhost 1010
Maxcontext 1100
Listen 6666
ManagerBalancerName mycluster

<VirtualHost *:6666>
  EnableMCPMReceive
  <Directory />
    Require ip 127.0.0.1
    Require ip ::1
    # This one is used in GH Actions
    Require ip 172.17.
  </Directory>
  <Location /mod_cluster_manager>
    SetHandler mod_cluster-manager
    Require ip 127.0.0.1
    Require ip ::1
    # This one is used in GH Actions
    Require ip 172.17.
  </Location>
</VirtualHost>
